/* ======================================
   404.CSS - ESTILOS ESPECÍFICOS DE LA PÁGINA 404
   ====================================== */

/* Sección principal 404 - USANDO GRID-2-2-2 */
.error-404.grid-2-2-2 {
    height: 100vh;
    background: linear-gradient(rgba(var(--accent-rgb), 0.3), rgba(var(--accent-rgb), 0.3)),
        url('/media/images/404/daniel-hohe-1VgmgXW3Yuk-unsplash.jpg') center/cover;
    position: relative;
    overflow: hidden;
    align-items: center; /* Centrar verticalmente el contenido */
}

/* Contenido del error */
.error-content {
    max-width: 800px;
    padding: var(--card-padding);
    z-index: 2;
    text-align: center;
    width: 100%;
}

/* Efecto Glitch para el número 404 con italic */
.glitch {
    position: relative;
    color: var(--black);
    font-family: var(--font-title);
    font-size: clamp(16rem, 30vw, 40rem);
    font-weight: 400;
    line-height: 1;
    letter-spacing: var(--title-letter-spacing);
    margin-bottom: var(--margin-bottom-standard);
    animation: glitchItalic 8s infinite ease-in-out;
}

/* Animación italic para todo el glitch */
@keyframes glitchItalic {
    0% { font-style: italic; }           /* 500ms italic */
    10% { font-style: normal; }          /* 300ms normal */
    11% { font-style: italic; }          /* 200ms italic */
    14% { font-style: normal; }          /* resto normal */
    100% { font-style: normal; }
}

.line {
    display: inline-block;
}

.line:not(:first-child) {
    position: absolute;
    top: 0;
    left: 0;
}

/* Generamos los keyframes para cada línea individualmente - versión con tiempos aleatorios */
.line:nth-child(1) {
    animation: clip 7200ms -340ms linear infinite, 
               glitchMove1 1450ms -120ms ease-in-out infinite,
               glitchColor1 4200ms -680ms ease-in-out infinite;
}

.line:nth-child(2) {
    animation: clip 5800ms -920ms linear infinite, 
               glitchMove2 980ms -340ms ease-in-out infinite,
               glitchColor2 3800ms -1250ms ease-in-out infinite;
}

.line:nth-child(3) {
    animation: clip 6700ms -1580ms linear infinite, 
               glitchMove3 1350ms -80ms ease-in-out infinite,
               glitchColor3 4600ms -920ms ease-in-out infinite;
}

.line:nth-child(4) {
    animation: clip 5400ms -2100ms linear infinite, 
               glitchMove4 1180ms -470ms ease-in-out infinite,
               glitchColor4 3200ms -1680ms ease-in-out infinite;
}

.line:nth-child(5) {
    animation: clip 6900ms -780ms linear infinite, 
               glitchMove5 1520ms -250ms ease-in-out infinite,
               glitchColor5 4100ms -320ms ease-in-out infinite;
}

.line:nth-child(6) {
    animation: clip 6200ms -3200ms linear infinite, 
               glitchMove6 850ms -590ms ease-in-out infinite,
               glitchColor6 3900ms -2100ms ease-in-out infinite;
}

.line:nth-child(7) {
    animation: clip 5900ms -1400ms linear infinite, 
               glitchMove7 1420ms -720ms ease-in-out infinite,
               glitchColor7 4400ms -1950ms ease-in-out infinite;
}

.line:nth-child(8) {
    animation: clip 7100ms -4600ms linear infinite, 
               glitchMove8 1080ms -180ms ease-in-out infinite,
               glitchColor8 3600ms -2800ms ease-in-out infinite;
}

.line:nth-child(9) {
    animation: clip 6400ms -2900ms linear infinite, 
               glitchMove9 1650ms -420ms ease-in-out infinite,
               glitchColor9 4300ms -1100ms ease-in-out infinite;
}

/* ===== ANIMACIONES DE MOVIMIENTO (RÁPIDAS) - TIEMPOS ALEATORIOS ===== */
@keyframes glitchMove1 {
    0%, 78% { transform: translateX(0); }
    83% { transform: translateX(-6px); }
    89% { transform: translateX(4px); }
    94% { transform: translateX(-3px); }
    100% { transform: translateX(0); }
}

@keyframes glitchMove2 {
    0%, 82% { transform: translateX(0); }
    86% { transform: translateX(7px); }
    93% { transform: translateX(-4px); }
    97% { transform: translateX(3px); }
    100% { transform: translateX(0); }
}

@keyframes glitchMove3 {
    0%, 75% { transform: translateX(0); }
    81% { transform: translateX(-5px); }
    87% { transform: translateX(8px); }
    95% { transform: translateX(-6px); }
    100% { transform: translateX(0); }
}

@keyframes glitchMove4 {
    0%, 84% { transform: translateX(0); }
    88% { transform: translateX(4px); }
    91% { transform: translateX(-7px); }
    96% { transform: translateX(5px); }
    100% { transform: translateX(0); }
}

@keyframes glitchMove5 {
    0%, 77% { transform: translateX(0); }
    82% { transform: translateX(-8px); }
    90% { transform: translateX(3px); }
    93% { transform: translateX(-4px); }
    100% { transform: translateX(0); }
}

@keyframes glitchMove6 {
    0%, 86% { transform: translateX(0); }
    89% { transform: translateX(6px); }
    94% { transform: translateX(-5px); }
    98% { transform: translateX(7px); }
    100% { transform: translateX(0); }
}

@keyframes glitchMove7 {
    0%, 73% { transform: translateX(0); }
    79% { transform: translateX(-4px); }
    85% { transform: translateX(9px); }
    92% { transform: translateX(-7px); }
    100% { transform: translateX(0); }
}

@keyframes glitchMove8 {
    0%, 81% { transform: translateX(0); }
    87% { transform: translateX(5px); }
    92% { transform: translateX(-8px); }
    97% { transform: translateX(4px); }
    100% { transform: translateX(0); }
}

@keyframes glitchMove9 {
    0%, 76% { transform: translateX(0); }
    83% { transform: translateX(-7px); }
    88% { transform: translateX(6px); }
    95% { transform: translateX(-5px); }
    100% { transform: translateX(0); }
}

/* ===== ANIMACIONES DE COLOR (LENTAS) - TIEMPOS ALEATORIOS ===== */
@keyframes glitchColor1 {
    0%, 87% { color: var(--black); }
    91% { color: var(--primary); }
    95% { color: var(--accent); }
    98% { color: var(--accent-red); }
    100% { color: var(--black); }
}

@keyframes glitchColor2 {
    0%, 92% { color: var(--black); }
    94% { color: var(--accent); }
    97% { color: var(--primary); }
    99% { color: var(--black); }
    100% { color: var(--black); }
}

@keyframes glitchColor3 {
    0%, 83% { color: var(--black); }
    88% { color: var(--accent-red); }
    93% { color: var(--primary); }
    96% { color: var(--accent); }
    100% { color: var(--black); }
}

@keyframes glitchColor4 {
    0%, 89% { color: var(--black); }
    92% { color: var(--primary); }
    96% { color: var(--accent-red); }
    98% { color: var(--accent); }
    100% { color: var(--black); }
}

@keyframes glitchColor5 {
    0%, 85% { color: var(--black); }
    90% { color: var(--accent); }
    94% { color: var(--primary); }
    97% { color: var(--black); }
    100% { color: var(--black); }
}

@keyframes glitchColor6 {
    0%, 94% { color: var(--black); }
    96% { color: var(--accent-red); }
    98% { color: var(--accent); }
    99% { color: var(--primary); }
    100% { color: var(--black); }
}

@keyframes glitchColor7 {
    0%, 88% { color: var(--black); }
    91% { color: var(--primary); }
    95% { color: var(--accent-red); }
    97% { color: var(--accent); }
    100% { color: var(--black); }
}

@keyframes glitchColor8 {
    0%, 91% { color: var(--black); }
    93% { color: var(--accent); }
    96% { color: var(--primary); }
    98% { color: var(--accent-red); }
    100% { color: var(--black); }
}

@keyframes glitchColor9 {
    0%, 86% { color: var(--black); }
    89% { color: var(--accent-red); }
    93% { color: var(--accent); }
    97% { color: var(--primary); }
    100% { color: var(--black); }
}

/* Animación de clip universal */
@keyframes clip {
    0% {
        clip-path: polygon(0 100%, 100% 100%, 100% 120%, 0 120%);
    }
    100% {
        clip-path: polygon(0 -20%, 100% -20%, 100% 0%, 0 0);
    }
}

/* Mensaje de error con efecto italic sutil */
.error-message {
    font-family: var(--font-body);
    font-size: clamp(1.2rem, 3vw, 1.8rem);
    color: var(--black);
    margin-bottom: 2.5rem;
    max-width: 600px;
    margin-left: auto;
    margin-right: auto;
}

.crazy-text {
    outline: none;
    text-align: center;
    display: inline-block;
    animation: subtleItalic 6s infinite ease-in-out;
}

.crazy-text * {
    animation: subtleItalic 6s infinite ease-in-out;
    display: inline-block;
}

/* Animación sutil - principalmente en normal */
@keyframes subtleItalic {
    0% { font-style: normal; }           /* 500ms normal */
    10% { font-style: italic; }          /* 300ms italic */
    11% { font-style: normal; }          /* 200ms normal */
    14% { font-style: italic; }          /* resto italic */
    100% { font-style: italic; }
}

/* ======================================
   ANIMACIONES DE ENTRADA - CONTENEDORES
   ====================================== */

/* Fade-in aplicado a contenedores para no interferir con hover */
.glitch-container {
    opacity: 0;
    transform: translateY(30px);
    transition: all 0.8s ease-out;
}

.glitch-container.visible {
    opacity: 1;
    transform: translateY(0);
}

.message-container {
    opacity: 0;
    transform: translateY(20px);
    transition: all 0.6s ease-out 0.3s;
}

.message-container.visible {
    opacity: 1;
    transform: translateY(0);
}

.button-container {
    opacity: 0;
    transform: translateY(20px);
    transition: all 0.5s ease-out 0.6s;
}

.button-container.visible {
    opacity: 1;
    transform: translateY(0);
}

/* Pausar animaciones hasta que sean visibles */
.glitch-container:not(.visible) .line {
    animation-play-state: paused;
}

.message-container:not(.visible) .crazy-text {
    animation-play-state: paused;
}

/* Activar animaciones cuando el contenedor se hace visible */
.glitch-container.visible .line {
    animation-play-state: running;
}

.message-container.visible .crazy-text {
    animation-play-state: running;
}

/* ======================================
   OPTIMIZACIONES DE PERFORMANCE
   ====================================== */

/* Usar will-change para optimizar animaciones */
.glitch, .line {
    will-change: transform, color, clip-path, font-style;
}

.crazy-text {
    will-change: font-style;
}

/* ======================================
   CONFIGURACIONES DE ACCESIBILIDAD
   ====================================== */

/* Pausar animaciones cuando el contenedor no es visible */
.glitch-container:not(.visible) .line,
.glitch-container:not(.visible) .glitch,
.message-container:not(.visible) .crazy-text {
    animation-play-state: paused;
}

/* Optimización para GPU */
.line, .crazy-text {
    transform: translateZ(0);
    backface-visibility: hidden;
}

/* ======================================
   MEJORAS VISUALES
   ====================================== */

/* Sombra suave para el contenido */
.error-content::before {
    content: '';
    position: absolute;
    top: -20%;
    left: -20%;
    right: -20%;
    bottom: -20%;
    background: radial-gradient(ellipse at center, rgba(255, 255, 255, 0.1) 0%, transparent 70%);
    z-index: -1;
    pointer-events: none;
}

/* Asegurar que el footer no se superponga */
.error-404 + .footer {
    position: relative;
    z-index: 1;
}